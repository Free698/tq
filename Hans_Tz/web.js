(function (_0x1fb6f1, _0x5d5e85) {
  const _0x2db727 = _0x1fb6f1();
  while (true) {
    try {
      const _0x5d8b8c = -parseInt(_0x158c(319, 0xfa)) / 1 + parseInt(_0x158c(341, 0x2e5)) / 2 + -parseInt(_0x158c(429, 0x1c3)) / 3 + parseInt(_0x158c(347, 0xf7)) / 4 + -parseInt(_0x158c(376, 0x118)) / 5 + -parseInt(_0x158c(308, 0xb5)) / 6 + parseInt(_0x158c(408, 0x35e)) / 7;
      if (_0x5d8b8c === _0x5d5e85) {
        break;
      } else {
        _0x2db727.push(_0x2db727.shift());
      }
    } catch (_0x33799d) {
      _0x2db727.push(_0x2db727.shift());
    }
  }
})(_0x389f, 540300);
const _0x670d57 = function () {
  let _0x3721e8 = true;
  return function (_0x3f7ff0, _0xd3dadb) {
    const _0x3c4cf4 = _0x3721e8 ? function () {
      if (_0xd3dadb) {
        const _0x4cac91 = _0xd3dadb.apply(_0x3f7ff0, arguments);
        _0xd3dadb = null;
        return _0x4cac91;
      }
    } : function () {};
    _0x3721e8 = false;
    return _0x3c4cf4;
  };
}();
const _0x15d45a = _0x670d57(this, function () {
  return _0x15d45a.toString().search("(((.+)+)+)+$").toString().constructor(_0x15d45a).search("(((.+)+)+)+$");
});
function _0x389f() {
  const _0x421b7f = ['z21JBLK', 'CMvZCg9UC2vuEq', 'zxrZB3vYy2u6', 'Dw5SAw5Ru3LUyW', 'BMn0Aw9UkcKG', 'zMLSzw5HBwu', 'y29UC29Szq', 'sur6yMS', 'Cgf0Aa', 'yLjVrK4', 'zwfJAa', 'C3bSAxq', 'CM92AwrLigeGDW', 'DePIrfO', 'y3jJzha', 'wwLIEvq', 'AhjLzG', 'D2fYBG', 'yvrAENC', 'yMfZzw5HBwu', 'wKrzrMC', 'zg5jseu', 'odC5mZq4zLrNt0LU', 'uernyvC', 'D3jPDgvAAxa', 'yxbWBgLJyxrPBW', 'zwjZAxrLifvsta', 'y29UC3rYDwn0BW', 'rxjYB3iGAw4GzW', 'y3rVCIGICMv0Dq', 'zgf0yq', 't0nvq28', '4P2mieLUDMfSAwqG', 'otm1mdaWtwTSEez0', 'B1rYqMO', 'C1Lbwvm', 'AhrXEwy', 'yxr0CG', 'yxnZzxrZlG', 'ANj5t0y', 'wgzHBfu', 'q25vCK8', 'yu92rey', 'lGOkrxHHBxbSzq', 'C1zUBNa', 'DNHrr1C', 'Dg9tDhjPBMC', 'zgj6v1G', 'C2nYAxb0w3nYyW', 'ywXPyxm', 's2DzELK', 'y296DLG', 'uwP5uLa', 'CNjouxC', 'Aw5MBW', 'odu4mtqYsgj0svLj', 'wLLbAg0', 'BKv6zwu', 'yMLUza', 'lNPPCa', '4P2mifbSzwfZzsbW', 'mZC0odqWngfIEvL3Cq', 'DgvZDa', 'C3r5BgvZAgvLDa', 'vNHKDKC', 'DfLWA2e', 'A0zlA0q', 'Bg9Hza', 'CMvJDxjZAxzL', 'C3rHCNrZv2L0Aa', 'y1Pyyw8', 'AuDnuwG', 'v252ruy', 'zgvZyW', 'vKLJB2m', 'C3jJ', 'tuLRt1u', 'y2HLzxjPBW', 'ChvZAa', 'Cgf0DgvYBG', 'Dg1WxW', 'ywXuwgm', 'Bhvcwwi', 'B2rLigzYB206ia', 'v3vvvxy', 'ywrKtg9JywXgBW', 'DgHLlxnVDxjJzq', 'AM9PBG', 'z2v0', 'tfLJz1O', 'mtCXmtiWA0njv09R', '4BsB4Bsh4BseYPW', 'yM9KEq', 'CMv0DxjUicHMDq', 'C291CMnLig9Yia', 'vgjsAu4', 'BNzQruC', 'BYbKB3DUBg9Hza', 'lY9LEgfTCgXLlG', 'qKzPvfm', 'zejxqvC', 'r2v0ieHutuWGkW', 'EuTdAvm', 'BM93', 'y2nNs2e', 'y2f0zwDVCNK', 'yxbWBhK', 'E30Uy29UC3rYDq', 'EeXtvxK', 'zxjYB3i', 'D0f2wNG', 'CM1tEw5J', 'CM4GDgHPCYiPka', 'vwnHr3y', 'ientuYaRiePtia', 'CMnLigH0DhbZoG', 'Aw5KzxGUAhrTBa', 'lI4Vy29TBwfUza', 'C2n6ELi', 'CMrIBfK', 'r0ffvg8', 'C2vUze1LC3nHzW', 'mZeXnZqWmvf0EgXYCW', 'DKj5v1K', 'uMLArha', 'tNnLAge', 's0fZwxu', 'u05Twxq', 'vM5zD0K', 'vvjmigzVCM1HDa', 'zM9Yy2u', '4P2miezHAwXLzcb0', 'BI96Axa', 'C2L0zq', 'thrizw8', 'tgPfA0i', 'CKXpCve', 'zNjVBsbHihDLyG', 'DgfIBgu', '4BsfimQzYO8G4BsfYO/kMCQpia', 'qLHfAu8', 'Bg9N', 'sKvXAvm', 'ndy2mJK5q2fzvK54', 'C2vHCMnO', 'lcbHBMqGsLmUlG', 'x19WCM90B19F', 's2HZzwC', 'yNbMu3i', '4O+ZiezLDgnOAw5N', 'zvzQzwe', 'BYbMzxrJAcb0Aa', 'D3jPDgvgAwXLuW', 'yK5ADLK', 'Dg9VBhm', 'ChjVDg90ExbL', 'DxjS', 'D2vI'];
  _0x389f = function () {
    return _0x421b7f;
  };
  return _0x389f();
}
_0x15d45a();
const _0x2a591b = function () {
  const _0x55bf6b = {
    oTrBj: "❌ Failed to download:"
  };
  _0x55bf6b.YibyT = function (_0x438f5b, _0x264002) {
    return _0x438f5b !== _0x264002;
  };
  _0x55bf6b.PDMaW = "sVnnp";
  let _0xc61f32 = true;
  return function (_0x5bab3b, _0x23d2fb) {
    const _0x1755d5 = {
      'alTXc': "❌ Failed to download:",
      'sczzR': function (_0x2e0952, _0x18c6d9) {
        return _0x55bf6b.YibyT(_0x2e0952, _0x18c6d9);
      },
      'IDzbk': "rdblY",
      'BFiTS': _0x55bf6b.PDMaW
    };
    const _0xfa795 = _0xc61f32 ? function () {
      if (_0x55bf6b.YibyT("rdblY", _0x1755d5.BFiTS)) {
        if (_0x23d2fb) {
          const _0x2d4469 = _0x23d2fb.apply(_0x5bab3b, arguments);
          _0x23d2fb = null;
          return _0x2d4469;
        }
      } else {
        _0x399fc8.warn("❌ Failed to download:", _0x44342d);
      }
    } : function () {};
    _0xc61f32 = false;
    return _0xfa795;
  };
}();
function _0x1b5acf(_0x46404e, _0x59e48e, _0x753863, _0x557097) {
  return _0x158c(_0x46404e + 0x7d, _0x753863);
}
function _0x158c(_0x29ef59, _0x5f4970) {
  const _0x2a161e = _0x389f();
  _0x158c = function (_0x5b6dff, _0x196ac0) {
    _0x5b6dff = _0x5b6dff - 286;
    let _0x471c11 = _0x2a161e[_0x5b6dff];
    if (_0x158c.DHhDHl === undefined) {
      var _0x5d1266 = function (_0x28daae) {
        let _0x5e25ea = '';
        let _0x153946 = '';
        let _0x14e03b = _0x5e25ea + _0x5d1266;
        let _0xd89056 = 0;
        let _0x35d616;
        let _0x48f359;
        for (let _0x3a93e9 = 0; _0x48f359 = _0x28daae.charAt(_0x3a93e9++); ~_0x48f359 && (_0x35d616 = _0xd89056 % 4 ? _0x35d616 * 64 + _0x48f359 : _0x48f359, _0xd89056++ % 4) ? _0x5e25ea += _0x14e03b.charCodeAt(_0x3a93e9 + 10) - 10 !== 0 ? String.fromCharCode(255 & _0x35d616 >> (-2 * _0xd89056 & 6)) : _0xd89056 : 0) {
          _0x48f359 = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/='.indexOf(_0x48f359);
        }
        let _0x14cc68 = 0;
        for (let _0x24b431 = _0x5e25ea.length; _0x14cc68 < _0x24b431; _0x14cc68++) {
          _0x153946 += '%' + ('00' + _0x5e25ea.charCodeAt(_0x14cc68).toString(16)).slice(-2);
        }
        return decodeURIComponent(_0x153946);
      };
      _0x158c.WLbdaA = _0x5d1266;
      _0x29ef59 = arguments;
      _0x158c.DHhDHl = true;
    }
    const _0x42421a = _0x2a161e[0];
    const _0x140c76 = _0x5b6dff + _0x42421a;
    const _0x291397 = _0x29ef59[_0x140c76];
    if (!_0x291397) {
      const _0x32de3c = function (_0x5c7e5e) {
        this.BRMYsG = _0x5c7e5e;
        this.rGYsRm = [1, 0, 0];
        this.SamLiq = function () {
          return 'newState';
        };
        this.SxguLW = "\\w+ *\\(\\) *{\\w+ *";
        this.ginMbr = "['|\"].+['|\"];? *}";
      };
      _0x32de3c.prototype.bMbjMH = function () {
        const _0x2d8ea9 = new RegExp(this.SxguLW + this.ginMbr);
        const _0x107edf = _0x2d8ea9.test(this.SamLiq.toString()) ? --this.rGYsRm[1] : --this.rGYsRm[0];
        return this.wDDght(_0x107edf);
      };
      _0x32de3c.prototype.wDDght = function (_0x2a5406) {
        if (!Boolean(~_0x2a5406)) {
          return _0x2a5406;
        }
        return this.ZOpSDX(this.BRMYsG);
      };
      _0x32de3c.prototype.ZOpSDX = function (_0x4267ae) {
        let _0x4e27f8 = 0;
        for (let _0x660f4 = this.rGYsRm.length; _0x4e27f8 < _0x660f4; _0x4e27f8++) {
          this.rGYsRm.push(Math.round(Math.random()));
          _0x660f4 = this.rGYsRm.length;
        }
        return _0x4267ae(this.rGYsRm[0]);
      };
      new _0x32de3c(_0x158c).bMbjMH();
      _0x471c11 = _0x158c.WLbdaA(_0x471c11);
      _0x29ef59[_0x140c76] = _0x471c11;
    } else {
      _0x471c11 = _0x291397;
    }
    return _0x471c11;
  };
  return _0x158c(_0x29ef59, _0x5f4970);
}
const _0xd06c95 = _0x2a591b(this, function () {
  const _0x350772 = function () {
    let _0x48596d;
    try {
      _0x48596d = Function("return (function() {}.constructor(\"return this\")( ));")();
    } catch (_0x5e9a8a) {
      _0x48596d = window;
    }
    return _0x48596d;
  };
  const _0x1a66f4 = _0x350772();
  const _0x9ee01e = _0x1a66f4.console = _0x1a66f4.console || {};
  const _0x146e8c = ["log", "warn", "info", 'error', 'exception', "table", 'trace'];
  for (let _0x59e939 = 0; _0x59e939 < _0x146e8c.length; _0x59e939++) {
    const _0x28f1e8 = _0x2a591b.constructor.prototype.bind(_0x2a591b);
    const _0x5f66de = _0x146e8c[_0x59e939];
    const _0x3cf95f = _0x9ee01e[_0x5f66de] || _0x28f1e8;
    _0x28f1e8.__proto__ = _0x2a591b.bind(_0x2a591b);
    _0x28f1e8.toString = _0x3cf95f.toString.bind(_0x3cf95f);
    _0x9ee01e[_0x5f66de] = _0x28f1e8;
  }
});
_0xd06c95();
const {
  cmd
} = require("../command");
const axios = require('axios');
const cheerio = require("cheerio");
const fs = require('fs');
const path = require("path");
const AdmZip = require('adm-zip');
const {
  URL
} = require("url");
const _0x1e6985 = {
  pattern: 'getsource',
  alias: "web"
};
function _0x569fc2(_0x67ba90, _0x510b44, _0xb408e0, _0x4aab09) {
  return _0x158c(_0x67ba90 + 0x3de, _0x4aab09);
}
_0x1e6985.react = ['🌐'];
_0x1e6985.desc = "Get HTML + CSS + JS from a website";
_0x1e6985.category = "tools";
_0x1e6985.filename = __filename;
cmd(_0x1e6985, async (_0x557d01, _0x54a6cf, _0xd7e8d5, {
  reply: _0x527671
}) => {
  try {
    const _0x1522d3 = _0xd7e8d5.body?.["split"](" ")[1];
    if (!_0x1522d3) {
      return _0x527671("❌ Please provide a website URL.\n\nExample: `.getsource https://example.com`");
    }
    const _0x27405d = _0x1522d3.startsWith('http') ? _0x1522d3 : 'https://' + _0x1522d3;
    const _0x47072a = /^https?:\/\/[^\s/$.?#].[^\s]*$/i.test(_0x27405d);
    if (!_0x47072a) {
      return _0x527671("❌ Invalid URL format.");
    }
    _0x527671("⏳ Fetching HTML, CSS, and JS...");
    const _0x4a3691 = await axios.get(_0x27405d);
    const _0x1d6c68 = _0x4a3691.data;
    const _0x1fd82c = path.join(__dirname, "tmp_" + Date.now());
    fs.mkdirSync(_0x1fd82c);
    const _0x47a9dd = path.join(_0x1fd82c, "index.html");
    fs.writeFileSync(_0x47a9dd, _0x1d6c68);
    const _0x53f080 = cheerio.load(_0x1d6c68);
    const _0x71c630 = new URL(_0x27405d);
    const _0x403cbe = [];
    const _0xc942fc = async (_0x2a177d, _0xca7328) => {
      try {
        const _0x1dd44e = new URL(_0x2a177d, _0x71c630).href;
        const _0xc1b17f = {
          responseType: "arraybuffer"
        };
        const _0x24017c = await axios.get(_0x1dd44e, _0xc1b17f);
        if (!_0x24017c || !_0x24017c.data) {
          return;
        }
        fs.writeFileSync(path.join(_0x1fd82c, _0xca7328), _0x24017c.data);
      } catch (_0x2461d2) {
        console.warn("❌ Failed to download:", _0x2a177d);
      }
    };
    _0x53f080("link[rel=\"stylesheet\"]").each((_0x5249e7, _0x2243d7) => {
      const _0x2c02dc = _0x53f080(_0x2243d7).attr('href');
      if (_0x2c02dc) {
        _0x403cbe.push(_0xc942fc(_0x2c02dc, path.basename(_0x2c02dc)));
      }
    });
    _0x53f080("script[src]").each((_0x31a5ad, _0x2cb5f8) => {
      const _0x485708 = _0x53f080(_0x2cb5f8).attr('src');
      if (_0x485708) {
        _0x403cbe.push(_0xc942fc(_0x485708, path.basename(_0x485708)));
      }
    });
    await Promise.all(_0x403cbe);
    const _0x296b8f = new AdmZip();
    _0x296b8f.addLocalFolder(_0x1fd82c);
    const _0x4a437c = path.join(__dirname, 'site_' + Date.now() + '.zip');
    _0x296b8f.writeZip(_0x4a437c);
    await _0x557d01.sendMessage(_0xd7e8d5.chat, {
      'document': fs.readFileSync(_0x4a437c),
      'fileName': "the-source.zip",
      'mimetype': "application/zip",
      'caption': "📁 Source code from: " + _0x27405d + "\n\n> 𝐕𝐎𝐑𝐓𝐄𝐗-𝐗𝐌𝐃"
    }, {
      'quoted': _0xd7e8d5
    });
    const _0x5582c5 = {
      recursive: true,
      force: true
    };
    fs.rmSync(_0x1fd82c, _0x5582c5);
    fs.unlinkSync(_0x4a437c);
  } catch (_0xb830c1) {
    console.error("Error in getsource:", _0xb830c1);
    _0x527671("❌ Failed to fetch the website source or assets.");
  }
});